(this.webpackJsonpfolder=this.webpackJsonpfolder||[]).push([[0],{1522:function(e,t,n){"use strict";n.r(t);var c=n(1),a=n.n(c),r=n(24),o=n.n(r),i=(n(30),n(3)),d=n(4),u=n(6),l=n(5),s=n(9),h=(n(31),n(25)),f=n(10),j=n.n(f),C="file",m="dir",b=function(e){return e===C?j.a.system.commonFileName():e===m?j.a.database.column():""},v=[C,m],x=function e(t){var n=t.currentColumnIdx,c=t.maxColumnCount,a=t.maxRow,r=0===n?10:a,o=Math.floor(Math.random()*r)+1,i=n===c-1;return Object(h.a)(Array(o)).map((function(){var t=i?C:v[Math.round(Math.random())];if(t===m){var r=e({currentColumnIdx:n+1,maxColumnCount:c,maxRow:a});return{type:t,label:b(t),children:r}}return{type:t,label:b(t)}}))}({currentColumnIdx:0,maxColumnCount:4,maxRow:20}),p=n(2),g=n(7),k=n.n(g),O={notChecked:"notChecked",checked:"checked",intermediate:"intermediate"},S="check",y="uncheck",I=n(0),w=function(e){var t,n=e.status,c=e.onStatusChange,a=e.type,r=(t={},Object(p.a)(t,O.checked,Object(I.jsx)("div",{className:"status",children:"\u2705"})),Object(p.a)(t,O.notChecked,Object(I.jsx)("div",{className:"status not_checked"})),Object(p.a)(t,O.intermediate,Object(I.jsx)("div",{className:"status intermediate"})),t);return Object(I.jsx)("div",{className:"checking_status",onClick:function(){var e=function(){var e=a===C&&n===O.checked,t=a===m&&[O.checked,O.intermediate].includes(n);return e||t?y:S}();console.log(e),c(e)},children:r[n]})},N=function(e){var t,n=e.type;return(t={},Object(p.a)(t,m,Object(I.jsx)("div",{className:"type_icon",children:"\ud83d\uddc2\ufe0f"})),Object(p.a)(t,C,Object(I.jsx)("div",{className:"type_icon",children:"\ud83d\udcc4"})),t)[n]},M=function(e){Object(u.a)(n,e);var t=Object(l.a)(n);function n(){return Object(i.a)(this,n),t.apply(this,arguments)}return Object(d.a)(n,[{key:"render",value:function(){var e=this.props,t=e.item,n=e.onFoldChange,c=e.onCheckingStatusChange,a=k()(t,"label",""),r=k()(t,"type",""),o=k()(t,"unfolded",!1),i=k()(t,"checkingStatus",O.notChecked);return Object(I.jsxs)("div",{className:"row",children:[Object(I.jsxs)("div",{className:"row_info",children:[Object(I.jsx)(w,{type:r,status:i,onStatusChange:function(e){c(e)}}),Object(I.jsxs)("div",{className:"label",children:[Object(I.jsx)("div",{className:"type_wrap",children:Object(I.jsx)(N,{type:r})}),Object(I.jsx)("div",{className:"label_val",title:a,children:a})]})]}),r===m&&Object(I.jsx)("div",{className:"fold_btn",onClick:function(){n(!o)},children:o?Object(I.jsx)("div",{children:"-"}):Object(I.jsx)("div",{children:"+"})})]},a)}}]),n}(a.a.Component),F=function(e){Object(u.a)(n,e);var t=Object(l.a)(n);function n(){return Object(i.a)(this,n),t.apply(this,arguments)}return Object(d.a)(n,[{key:"render",value:function(){var e=this.props,t=e.tree,n=e.onRowFoldChange,c=e.onRowCheckingStatusChange,a=e.onLoadMoreClick,r=t.filter((function(e){return e.loaded})),o=t.some((function(e){return!e.loaded}));return Object(I.jsxs)("div",{className:"column",children:[r.map((function(e,t){return Object(I.jsx)(M,{item:e,onFoldChange:function(e){n(t,e)},onCheckingStatusChange:function(e){c(t,e)}},t)})),o&&Object(I.jsx)("div",{className:"load_more",children:Object(I.jsx)("div",{className:"more_btn",onClick:function(){a()},children:"Load More"})})]})}}]),n}(a.a.Component),_=function e(t){return t.map((function(t,n){var c=Object(s.a)(Object(s.a)({},t),{},{checkingStatus:O.notChecked,loaded:n<10});return t.type===m&&(c.unfolded=!1,c.children=e(t.children)),c}))},L=function(e){Object(u.a)(n,e);var t=Object(l.a)(n);function n(){var e;return Object(i.a)(this,n),(e=t.call(this)).updateFoldState=function(t){var n=t.tree,c=t.currentColIdx,a=t.targetColIdx,r=t.rowIdx,o=t.foldState;if(c===a)n[r].unfolded=o,n.forEach((function(e,t){e.unfolded=t===r&&o}));else{var i=n.find((function(e){return e.type===m&&!0===e.unfolded}));i&&e.updateFoldState({tree:i.children,currentColIdx:c+1,targetColIdx:a,rowIdx:r,foldState:o})}},e.handleFoldChange=function(t,n,c){e.updateFoldState({tree:e.state.tree,currentColIdx:0,targetColIdx:t,rowIdx:n,foldState:c}),e.setState({tree:e.state.tree})},e.updateAllChildrenStatus=function(t,n){t.forEach((function(t){t.type===C&&t.loaded?t.checkingStatus=n:t.type===m&&e.updateAllChildrenStatus(t.children,n)}))},e.updateCheckingStatus=function(t){var n=t.tree,c=t.currentColIdx,a=t.targetColIdx,r=t.rowIdx,o=t.action;if(c===a){var i=n[r],d=i.type,u=o===S?O.checked:O.notChecked;d===C?i.checkingStatus=u:d===m&&e.updateAllChildrenStatus(i.children,u)}else{var l=n.find((function(e){return e.type===m&&!0===e.unfolded}));l&&e.updateCheckingStatus({tree:l.children,currentColIdx:c+1,targetColIdx:a,rowIdx:r,action:o})}},e.updateDirCheckingStatus=function(t){t.forEach((function(t){if(t.type===m){var n=e.updateDirCheckingStatus(t.children);t.checkingStatus=n}}));var n=t.every((function(e){return e.checkingStatus===O.checked})),c=t.some((function(e){return[O.checked,O.intermediate].includes(e.checkingStatus)}));return n?O.checked:c?O.intermediate:O.notChecked},e.handleCheckingStatusChange=function(t,n,c){console.log("\ud83d\ude80 ~ file: index.js ~ line 127 ~ Main ~ colIdx, rowIdx, action",t,n,c),e.updateCheckingStatus({tree:e.state.tree,currentColIdx:0,targetColIdx:t,rowIdx:n,action:c}),e.updateDirCheckingStatus(e.state.tree),e.setState({tree:e.state.tree})},e.loadMore=function(t,n,c){if(t===n){var a=10;c.forEach((function(e){a>0&&!e.loaded&&(e.loaded=!0,a--)}))}else{var r=c.find((function(e){return e.type===m&&!0===e.unfolded}));r&&e.loadMore(t+1,n,r.children)}},e.handleLoadMoreClick=function(t){e.loadMore(0,t,e.state.tree),e.setState({tree:e.state.tree})},e.state={tree:[]},e}return Object(d.a)(n,[{key:"componentDidMount",value:function(){this.setState({tree:_(x)})}},{key:"getColumns",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],c=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;n.push(Object(I.jsx)(F,{tree:e,onRowFoldChange:function(e,n){t.handleFoldChange(c,e,n)},onRowCheckingStatusChange:function(e,n){t.handleCheckingStatusChange(c,e,n)},onLoadMoreClick:function(){t.handleLoadMoreClick(c)}},c));var a=e.find((function(e){return e.type===m&&!0===e.unfolded}));return a?this.getColumns(a.children,n,c+1):n}},{key:"render",value:function(){var e=this.getColumns(this.state.tree);return Object(I.jsx)("div",{className:"columns",children:e})}}]),n}(a.a.Component);var R=function(){return Object(I.jsx)("div",{className:"App",children:Object(I.jsx)(L,{})})},A=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,1523)).then((function(t){var n=t.getCLS,c=t.getFID,a=t.getFCP,r=t.getLCP,o=t.getTTFB;n(e),c(e),a(e),r(e),o(e)}))};o.a.render(Object(I.jsx)(a.a.StrictMode,{children:Object(I.jsx)(R,{})}),document.getElementById("root")),A()},30:function(e,t,n){},31:function(e,t,n){}},[[1522,1,2]]]);
//# sourceMappingURL=main.acd52f44.chunk.js.map